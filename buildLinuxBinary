## builds linux binary for local platform
## requires installation of
## mono-devel   (sudo apt-get install mono-devel)
## monodevelop  (sudo apt-get install monodevelop) 

mkdir linuxBinaries
MACHINE_TYPE=`uname -m`  
mkdir linuxBinaries/linux-${MACHINE_TYPE}

if [[ "$MACHINE_TYPE" == *"x86_64"* ]]; then
  cp *amd64.so linuxBinaries/linux-${MACHINE_TYPE}/. 
fi

if [[ "$MACHINE_TYPE" == *"x86_32"* ]]; then
  cp *386.so linuxBinaries/linux-${MACHINE_TYPE}/.
fi

if [[ "$MACHINE_TYPE" == *"armv"* ]]; then
  cp *armhf.so linuxBinaries/linux-${MACHINE_TYPE}/.
fi

mdtool build --configuration:Release YoctoVisualization2.csproj

mkbundle --static --deps -o linuxBinaries/linux-${MACHINE_TYPE}/YoctoVisualization   --config dllmap.config bin/Release/YoctoVisualization.exe 